{"version":3,"sources":["webpack:///./src/components/TreeVI.vue?9010","webpack:///src/components/TreeVI.vue","webpack:///./src/components/TreeVI.vue?ccf7","webpack:///./src/components/TreeVI.vue?092e","webpack:///./src/components/TreeVI.vue?8181","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","data","nodeId","nodeName","zoom","index","root","nodes","links","dTreeData","margin","currentNode","svg","container","newNodeName","rootNodeId","mounted","width","Math","floor","clientWidth","height","clientHeight","console","log","x0","y0","descendants","forEach","d","id","i","_children","children","depth","name","length","zoomActions","gNode","attr","d3","gLink","update","tree","eachBefore","node","x","left","right","nodeEnter","append","nodeUpdate","nodeExit","link","merge","linkEnter","transition","exit","remove","y","call","zoomHandler","on","component","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","key","explicit","Collection","proto"],"mappings":"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","file":"js/chunk-11b37e32.961a2b0c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('svg',{staticClass:\"d3-tree-vi width-100-percent container-border\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <svg class=\"d3-tree-vi width-100-percent container-border\" />\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nexport default {\n  data () {\n    return {\n      nodeId: '',\n      nodeName: '',\n      zoom: null,\n      index: 0,\n      root: null,\n      nodes: [],\n      links: [],\n      dTreeData: null,\n      margin: { top: 20, right: 90, bottom: 30, left: 90 },\n      currentNode: null,\n      svg: null,\n      container: null,\n      // nodeObj: null,\n      newNodeName: '',\n      rootNodeId: null\n    }\n  },\n  mounted () {\n    let data = {\n      'name': 'flare',\n      'value': 1,\n      'children': [{\n        'name': 'util',\n        'value': 23,\n        'children': [\n          {\n            'name': 'ssdf',\n            'value': 104993\n          },\n          {\n            'name': 'Geometry',\n            'value': 13033\n          },\n          {\n            'name': 'heap',\n            'value': 24,\n            'children': [\n              {\n                'name': 'FibonacciHeap',\n                'value': 9354\n              },\n              {\n                'name': 'FibonacciHeap2',\n                'value': 66\n              },\n              {\n                'name': 'FibonacciHeap3',\n                'value': 767,\n                'children': [\n                  {\n                    'name': '333FibonacciHeap',\n                    'value': 93541\n                  },\n                  {\n                    'name': '22FibonacciHeap2',\n                    'value': 662\n                  },\n                  {\n                    'name': '1FibonacciHeap3',\n                    'value': 7673\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            'name': 'math',\n            'value': 49\n          }\n        ]\n      },\n      {\n        'name': 'vis',\n        'value': 38,\n        'children': [{\n          'name': 'Visualization',\n          'value': 16540\n        }]\n      }]\n    }\n\n    let clientWidth = document.body.clientWidth\n    let clientHeight = document.body.clientHeight\n    this.width = Math.floor(clientWidth * 0.6)\n    this.height = clientHeight - 72\n    console.log('width: ' + this.width + ' height: ' + this.height) // eslint-disable-line\n\n    let margin = ({ top: 10, right: 120, bottom: 10, left: 100 })\n\n    let width = this.width\n\n    let dy = width / 4\n    let dx = 30\n\n    let tree = d3.tree().nodeSize([dx, dy])\n    let diagonal = d3.linkHorizontal().x(d => d.y).y(d => d.x)\n\n    const root = d3.hierarchy(data)\n\n    root.x0 = 0\n    root.y0 = 0\n    root.descendants().forEach((d, i) => {\n      d.id = i\n      d._children = d.children\n      if (d.depth && d.data.name.length !== 4) d.children = null\n    })\n\n    let svg = d3\n      .select('svg.d3-tree-vi')\n      .attr('viewBox', [-margin.left, -margin.top, width, dx])\n\n    const gLink = svg.append('g')\n      .attr('fill', 'none')\n      .attr('stroke', '#555')\n      .attr('stroke-opacity', 0.4)\n      .attr('stroke-width', 1.5)\n\n    const gNode = svg.append('g')\n      .attr('cursor', 'pointer')\n      .attr('pointer-events', 'all')\n\n    // ****************  zoom ************************\n    // add zoom capabilities\n    let zoomHandler = d3.zoom()\n      .on('zoom', zoomActions)\n      .scaleExtent([1 / 2, 8])\n\n    svg.call(zoomHandler).on('dblclick.zoom', null)\n    zoomHandler(svg)\n\n    // Zoom functions\n    function zoomActions () {\n      gNode.attr('transform', d3.event.transform)\n      gLink.attr('transform', d3.event.transform)\n    }\n    // ***********************************************\n\n    function update (source) {\n      const duration = d3.event && d3.event.altKey ? 2500 : 250\n      const nodes = root.descendants().reverse()\n      const links = root.links()\n\n      // Compute the new tree layout.\n      tree(root)\n\n      // console.log('root ', root)\n\n      let left = root\n      let right = root\n      root.eachBefore(node => {\n        if (node.x < left.x) left = node\n        if (node.x > right.x) right = node\n      })\n\n      const height = right.x - left.x + margin.top + margin.bottom\n\n      const transition = svg.transition()\n        .duration(duration)\n        .attr('viewBox', [-margin.left, left.x - margin.top, width, height])\n        // .attr('viewBox', [-240, 0, 846, 10])\n        .tween('resize', window.ResizeObserver ? null : () => () => svg.dispatch('toggle'))\n\n      // Update the nodes…\n      const node = gNode.selectAll('g')\n        .data(nodes, d => d.id)\n\n      // Enter any new nodes at the parent's previous position.\n      const nodeEnter = node.enter().append('g')\n        .attr('transform', () => `translate(${source.y0},${source.x0})`)\n        .attr('fill-opacity', 0)\n        .attr('stroke-opacity', 0)\n        .on('click', d => {\n          d.children = d.children ? null : d._children\n          update(d)\n        })\n\n      nodeEnter.append('circle')\n      // .attr('class', 'node')\n      // .attr('r', 1e-6)\n      // .style('fill', function (d) {\n      //   return d._children ? '#c9e4ff' : '#fff'\n      // })\n\n        .attr('r', 10)\n        .attr('fill', d => d._children ? '#c9e4ff' : '#fff')\n        //  .style('fill', function (d) {\n        //           return d._children ? '#c9e4ff' : '#fff'\n        //         })\n        .attr('stroke-width', 2)\n        .attr('stroke', '#c9e4ff')\n\n      nodeEnter.append('text')\n        .attr('dy', '0.31em')\n        // .attr('x', d => d._children ? -6 : 6)\n        .attr('x', d => d._children ? -14 : 14)\n        .attr('text-anchor', d => d._children ? 'end' : 'start')\n        .text(d => d.data.name)\n        .clone(true).lower()\n        .attr('stroke-linejoin', 'round')\n        .attr('stroke-width', 3)\n        .attr('stroke', 'white')\n\n      // Transition nodes to their new position.\n      const nodeUpdate = node.merge(nodeEnter).transition(transition)\n        .attr('transform', d => `translate(${d.y},${d.x})`)\n        // .attr('r', 10)\n        // .style('fill', function (d) {\n        //   return d._children ? '#c9e4ff' : '#fff'\n        // })\n        // .attr('cursor', 'pointer')\n        .attr('fill-opacity', 1)\n        .attr('stroke-opacity', 1)\n      console.log(nodeUpdate) // eslint-disable-line\n\n      // Transition exiting nodes to the parent's new position.\n      const nodeExit = node.exit().transition(transition).remove()\n        .attr('transform', () => `translate(${source.y},${source.x})`)\n        .attr('fill-opacity', 0)\n        .attr('stroke-opacity', 0)\n\n      console.log(nodeExit) // eslint-disable-line\n\n      // Update the links…\n      const link = gLink.selectAll('path')\n        .data(links, d => d.target.id)\n\n      // Enter any new links at the parent's previous position.\n      const linkEnter = link.enter().append('path')\n        .attr('d', () => {\n          const o = { x: source.x0, y: source.y0 }\n          return diagonal({ source: o, target: o })\n        })\n\n      // Transition links to their new position.\n      link.merge(linkEnter).transition(transition)\n        .attr('d', diagonal)\n\n      // Transition exiting nodes to the parent's new position.\n      link.exit().transition(transition).remove()\n        .attr('d', () => {\n          const o = { x: source.x, y: source.y }\n          return diagonal({ source: o, target: o })\n        })\n\n      // Stash the old positions for transition.\n      root.eachBefore(d => {\n        d.x0 = d.x\n        d.y0 = d.y\n      })\n    }\n\n    update(root)\n  }\n}\n</script>\n<style scoped>\n.width-100-percent {\n  width: 100%;\n  height: 100vh;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVI.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVI.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeVI.vue?vue&type=template&id=b59c456e&scoped=true&\"\nimport script from \"./TreeVI.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeVI.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeVI.vue?vue&type=style&index=0&id=b59c456e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b59c456e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVI.vue?vue&type=style&index=0&id=b59c456e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVI.vue?vue&type=style&index=0&id=b59c456e&scoped=true&lang=css&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n"],"sourceRoot":""}