{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/components/TreeIV.vue?40ec","webpack:///src/components/TreeIV.vue","webpack:///./src/components/TreeIV.vue?bfe7","webpack:///./src/components/TreeIV.vue"],"names":["dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","this","match","e","render","_vm","_h","$createElement","_c","_self","_m","ref","staticClass","staticStyle","attrs","viewbox","_l","v","k","key","x","y","d","_e","on","$event","textClick","_v","_s","name","staticRenderFns","data","treeData","svgWidth","svgHeight","rootX","rootY","nodes","computed","mounted","Math","floor","clientWidth","clientHeight","initTree","methods","root","value","pv","px","py","push","traverseNode","dx","self","num","obj","arr","i","len","parentNode","Number","dy","children","length","nodeNum","node","childrenArr","concat","nodeObj","console","log","component"],"mappings":"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","file":"js/chunk-27b82af8.131efb9d.js","sourcesContent":["var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('svg',{ref:\"svg\",staticClass:\"container-border\",staticStyle:{\"width\":\"80%\",\"height\":\"80vh\"},attrs:{\"viewBox\":_vm.viewbox,\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('g',_vm._l((_vm.nodes),function(v,k){return _c('g',{key:k,attrs:{\"cx\":v.x,\"cy\":v.y,\"r\":\"5\"}},[(v.d)?_c('path',{attrs:{\"d\":v.d,\"fill\":\"transparent\",\"stroke\":\"#8e8e8e\"}}):_vm._e(),_c('circle',{attrs:{\"fill\":\"#9cc9b3\",\"fill-opacity\":\"1\",\"cx\":v.x,\"cy\":v.y,\"r\":\"12\",\"stroke\":\"#9cc9b3\",\"stroke-width\":\"2\"}}),_c('text',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"x\":v.x,\"y\":v.y,\"fill\":\"#656565\"},on:{\"click\":function($event){return _vm.textClick(v)}}},[_vm._v(_vm._s(v.name))])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Sample Static Tree\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div>\n      <h2>Sample Static Tree</h2>\n    </div>\n    <svg\n      ref=\"svg\"\n      :view-box.camel=\"viewbox\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style=\"width: 80%;height:80vh;\" class=\"container-border\"\n    >\n      <g>\n        <g v-for=\"(v, k) in nodes\" :key=\"k\" :cx=\"v.x\" :cy=\"v.y\" r=\"5\">\n          <path v-if=\"v.d\" :d=\"v.d\" fill=\"transparent\" stroke=\"#8e8e8e\" />\n          <circle\n            fill=\"#9cc9b3\"\n            fill-opacity=\"1\"\n            :cx=\"v.x\"\n            :cy=\"v.y\"\n            r=\"12\"\n            stroke=\"#9cc9b3\"\n            stroke-width=\"2\"\n          />\n          <text\n            :x=\"v.x\"\n            :y=\"v.y\"\n            style=\"cursor:pointer;\"\n            fill=\"#656565\"\n            @click=\"textClick(v)\"\n          >{{v.name}}</text>\n        </g>\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'node',\n  data () {\n    return {\n      treeData: null,\n      svgWidth: 0,\n      svgHeight: 0,\n      rootX: 0,\n      rootY: 0,\n      nodes: []\n    }\n  },\n  computed: {\n    viewbox () {\n      return '0 0 ' + this.svgWidth + ' ' + this.svgHeight\n    }\n  },\n  mounted () {\n    // 添加一个窗口监控方法, 修改 svg 宽高, https://blog.csdn.net/qq_25386583/article/details/77161478\n\n    let clientWidth = document.body.clientWidth\n    let clientHeight = document.body.clientHeight\n\n    this.svgWidth = Math.floor(clientWidth * 0.6)\n    this.svgHeight = clientHeight - 72\n    this.treeData = {\n      'name': 'Top Level',\n      'children': [\n        { 'name': 'Level 2: A' },\n        {\n          'name': 'Level 2: B',\n          'children': [\n            { 'name': 'Level 3: A' },\n            { 'name': 'Level 3: B' }\n          ]\n        },\n        { 'name': 'Level 2: C' }\n      ]\n    }\n    this.initTree(this.treeData)\n  },\n  methods: {\n    initTree (data) {\n      this.rootX = Math.floor(this.svgWidth * 0.5)\n      this.rootY = Math.floor(this.svgHeight * 0.4)\n      let dx = 0 // node X distance\n      let dy = 150 // node Y distance\n      let by = 100 // Y axis of Bezier coordinate\n\n      // root node, 第一层\n      let root = {}\n      root.name = data.name\n      root.value = data.value\n      root.x = this.rootX\n      root.y = this.rootY\n      root.pv = 0 // parent node value\n      root.px = 0 // parent node X\n      root.py = 0 // parent node Y\n      root.d = null //  d=\"M500 200 C 500 500, 100 500, 100 900\"\n\n      this.nodes.push(root)\n\n      let self = this\n\n      if (data.children && data.children.length > 0) {\n        traverseNode(data.children, root, data.children.length)\n      }\n\n      function traverseNode (arr, parentNode, num) {\n        let len = arr.length\n\n        // distance 边距需要根据底层的节点个数去实时调整\n        dx = self.svgWidth / num\n        if (dx < 200) {\n          dx = 200\n        }\n        let childrenArr = []\n        let nodeNum = 0\n        for (let i = 0; i < len; i++) {\n          let obj = {}\n          obj.name = arr[i].name\n          obj.value = arr[i].value\n          if (len > 1) {\n            obj.x = i * dx + (dx * 0.5)\n          } else {\n            // 当前父节点下面只有一个节点, 子节点X坐标和父节点X坐标一致\n            obj.x = parentNode.x\n          }\n          obj.y = Number(parentNode.y + dy)\n          let d = 'M' + parentNode.x + ' ' + parentNode.y + ' C ' + parentNode.x + ' ' + Number(parentNode.y + by) + ', ' + obj.x + ' ' + Number(obj.y - by) + ', ' + obj.x + ' ' + obj.y\n          obj.d = d\n          self.nodes.push(obj)\n\n          // 深度优先 !!!\n          // if (arr[i].children && arr[i].children.length > 0) {\n          //   traverseNode(arr[i].children, obj)\n          // }\n\n          // 广度优先 第一步 !!!\n          if (arr[i].children && arr[i].children.length > 0) {\n            nodeNum = nodeNum + arr[i].children.length\n            let nodeObj = {\n              arr: arr[i].children,\n              node: obj\n            }\n            childrenArr = childrenArr.concat(nodeObj)\n          }\n        }\n        // 广度优先 第二步 !!!\n        for (let i = 0; i < childrenArr.length; i++) {\n          traverseNode(childrenArr[i].arr, childrenArr[i].node, nodeNum)\n        }\n      }\n    },\n    textClick (value) {\n      console.log(value) // eslint-disable-line\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeIV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeIV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeIV.vue?vue&type=template&id=224b42ba&scoped=true&\"\nimport script from \"./TreeIV.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeIV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"224b42ba\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}