{"version":3,"sources":["webpack:///./src/components/TreeVIII.vue?3c60","webpack:///./src/components/TreeVIII.vue?2da5","webpack:///src/components/TreeVIII.vue","webpack:///./src/components/TreeVIII.vue?4a29","webpack:///./src/components/TreeVIII.vue?e43b","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/components/TreeVIII.vue?828c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","ref","on","_g","buttonDisabled","addNode","_v","deleteNode","editNode","$event","showDetails","directives","name","rawName","value","expression","_s","nodeId","nodeName","model","callback","$$v","newNodeName","dialog","deleteNodeData","staticRenderFns","data","zoom","index","duration","root","nodes","links","dTreeData","margin","currentNode","svg","container","NodeObj","rootNodeId","mounted","children","treeData","initSvg","computed","treemap","d3","methods","width","Math","floor","clientWidth","height","clientHeight","select","transition","call","transform","getRoot","update","initDrawer","console","log","warn","parent","depth","child","push","info","length","filter","goBack","$route","params","searchType","$router","d","x0","y0","dblclickNode","$set","_children","$nextTick","clickNode","diagonal","getNodesAndLinks","descendants","slice","id","node","enter","selectAll","nodeEnter","nodeUpdate","style","nodeExit","attr","linkUpdate","link","forEach","x","y","component","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e"],"mappings":"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","file":"js/chunk-4f7f5dbd.75250eb0.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVIII.vue?vue&type=style&index=1&id=18346945&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVIII.vue?vue&type=style&index=1&id=18346945&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"card-container\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"disabled\":_vm.buttonDisabled},on:{\"click\":_vm.addNode}},on),[_c('v-icon',[_vm._v(\"mdi-playlist-plus\")])],1)]}}])},[_c('span',[_vm._v(\"Insert node\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"disabled\":_vm.buttonDisabled},on:{\"click\":_vm.deleteNode}},on),[_c('v-icon',[_vm._v(\"mdi-delete-outline\")])],1)]}}])},[_c('span',[_vm._v(\"Delete node\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"disabled\":_vm.buttonDisabled},on:{\"click\":_vm.editNode}},on),[_c('v-icon',[_vm._v(\"mdi-square-edit-outline\")])],1)]}}])},[_c('span',[_vm._v(\"Edit node\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showDetails = !_vm.showDetails}}},on),[_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDetails),expression:\"showDetails\"}]},[_vm._v(\"mdi-eye-outline\")]),_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showDetails),expression:\"!showDetails\"}]},[_vm._v(\"mdi-eye-off-outline\")])],1)]}}])},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showDetails),expression:\"!showDetails\"}]},[_vm._v(\"Display details\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDetails),expression:\"showDetails\"}]},[_vm._v(\"Close details\")])])],1),_c('svg',{staticClass:\"d3-tree width-100-percent\"},[_c('g',{staticClass:\"container\"})]),_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDetails),expression:\"showDetails\"}],staticClass:\"drawer-container\"},[_c('div',{staticClass:\"text-align-left margin-top-10\"},[_c('span',{staticClass:\"span-title\"},[_vm._v(\"Selected Node\")]),_c('span',{staticClass:\"span-id-margin\"},[_vm._v(\"nodeId: \"+_vm._s(_vm.nodeId))]),_c('span',[_vm._v(\"nodeName: \"+_vm._s(_vm.nodeName))])]),_c('div',[_c('v-text-field',{staticClass:\"text-height\",attrs:{\"label\":\"Insert/Edit Node\",\"outlined\":\"\",\"maxlength\":\"50\",\"dense\":\"\"},model:{value:(_vm.newNodeName),callback:function ($$v) {_vm.newNodeName=$$v},expression:\"newNodeName\"}})],1)]),_c('v-dialog',{attrs:{\"max-width\":\"400\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Tips\")]),_c('v-card-text',{staticClass:\"subtitle-1 text-align-left\"},[_vm._v(\"Are you sure you want to delete the node? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteNodeData()}}},[_vm._v(\"Confirm\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-card class=\"card-container\">\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on }\">\n          <v-btn icon v-on=\"on\" :disabled=\"buttonDisabled\" @click=\"addNode\">\n            <v-icon>mdi-playlist-plus</v-icon>\n          </v-btn>\n        </template>\n        <span>Insert node</span>\n      </v-tooltip>\n\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on }\">\n          <v-btn icon v-on=\"on\" :disabled=\"buttonDisabled\" @click=\"deleteNode\">\n            <v-icon>mdi-delete-outline</v-icon>\n          </v-btn>\n        </template>\n        <span>Delete node</span>\n      </v-tooltip>\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on }\">\n          <v-btn icon v-on=\"on\" :disabled=\"buttonDisabled\" @click=\"editNode\">\n            <v-icon>mdi-square-edit-outline</v-icon>\n          </v-btn>\n        </template>\n        <span>Edit node</span>\n      </v-tooltip>\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on }\">\n          <v-btn icon v-on=\"on\" @click=\"showDetails = !showDetails\">\n            <v-icon v-show=\"showDetails\">mdi-eye-outline</v-icon>\n            <v-icon v-show=\"!showDetails\">mdi-eye-off-outline</v-icon>\n          </v-btn>\n        </template>\n        <span v-show=\"!showDetails\">Display details</span>\n        <span v-show=\"showDetails\">Close details</span>\n      </v-tooltip>\n    </v-card>\n    <svg class=\"d3-tree width-100-percent\">\n      <g class=\"container\" />\n    </svg>\n    <v-card v-show=\"showDetails\" class=\"drawer-container\">\n      <div class=\"text-align-left margin-top-10\">\n        <span class=\"span-title\">Selected Node</span><span class=\"span-id-margin\">nodeId:  {{ nodeId }}</span>\n        <span>nodeName:  {{ nodeName }}</span>\n      </div>\n      <div>\n        <v-text-field label=\"Insert/Edit Node\" outlined maxlength=\"50\" dense v-model=\"newNodeName\" class=\"text-height\"></v-text-field>\n      </div>\n    </v-card>\n    <v-dialog v-model=\"dialog\" max-width=\"400\">\n      <v-card>\n        <v-card-title class=\"headline\">Tips</v-card-title>\n        <v-card-text class=\"subtitle-1 text-align-left\">Are you sure you want to delete the node? </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn text @click=\"dialog = false\">Cancel</v-btn>\n          <v-btn color=\"red\" text @click=\"deleteNodeData()\">Confirm</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3'\n\nexport default {\n  name: 'TreeVIII',\n  data() {\n    return {\n      showDetails: true,\n      nodeId: '',\n      nodeName: '',\n      zoom: null,\n      index: 0,\n      duration: 750,\n      root: null,\n      nodes: [],\n      links: [],\n      dTreeData: null,\n      margin: { top: 20, right: 90, bottom: 30, left: 90 },\n      currentNode: null,\n      svg: null,\n      container: null,\n      NodeObj: null,\n      newNodeName: '',\n      rootNodeId: null,\n      buttonDisabled: false,\n      dialog: false\n    }\n  },\n  mounted() {\n    let treeData = {\n      name: 'flare',\n      value: 1,\n      children: [\n        {\n          name: 'util',\n          value: 23,\n          children: [\n            {\n              name: 'ssdf',\n              value: 104993\n            },\n            {\n              name: 'Geometry',\n              value: 13033\n            },\n            {\n              name: 'heap',\n              value: 24,\n              children: [\n                {\n                  name: 'FibonacciHeap',\n                  value: 9354\n                }\n              ]\n            },\n            {\n              name: 'math',\n              value: 49\n            }\n          ]\n        },\n        {\n          name: 'vis',\n          value: 38,\n          children: [\n            {\n              name: 'Visualization',\n              value: 16540\n            }\n          ]\n        }\n      ]\n    }\n    this.rootNodeId = treeData.value\n    this.initSvg(treeData)\n  },\n  computed: {\n    treemap() {\n      return d3.tree().nodeSize([26, 240])\n    }\n  },\n  methods: {\n    initSvg(treeData) {\n      let clientWidth = document.body.clientWidth\n      let clientHeight = document.body.clientHeight\n      this.width = Math.floor(clientWidth * 0.6)\n      this.height = clientHeight - 72\n\n      let margin = { top: 10, right: 120, bottom: 10, left: 40 }\n      let width = this.width\n      let dx = 30\n\n      this.NodeObj = d3.hierarchy.prototype.constructor\n      this.svg = d3.select('svg.d3-tree').attr('viewBox', [-margin.left, -margin.top, width, dx])\n\n      const transform = d3.zoomIdentity.translate(this.margin.left, this.margin.top).scale(1)\n      this.container = this.svg.select('g.container')\n      // init zoom behavior, which is both an object and function\n      this.zoom = d3\n        .zoom()\n        .scaleExtent([1 / 4, 4])\n        .on('zoom', function () {\n          d3.select('g.container').attr('transform', d3.event.transform)\n        })\n      this.container.transition().duration(750).call(this.zoom.transform, transform)\n      this.svg.call(this.zoom).on('dblclick.zoom', null)\n      this.root = this.getRoot(treeData)\n      this.update(this.root)\n    },\n    initDrawer() {\n      console.log('init drawer')\n      this.newNodeName = ''\n      this.nodeId = ''\n      this.nodeName = ''\n      this.currentNode = null\n    },\n    addNode() {\n      if (!this.newNodeName) {\n        console.warn('New node cannot be empty')\n        return false\n      }\n      if (!this.currentNode) {\n        console.warn('Please select a node')\n        return false\n      }\n\n      let parent = this.currentNode\n      const child = Object.assign(new this.NodeObj(), {\n        parent,\n        depth: parent.depth + 1\n      }) // eslint-disable-line\n      let value = parseInt(Math.random() * 9999, 10) + 1\n      child.value = value\n      child.data = {\n        name: this.newNodeName,\n        value: value\n      }\n\n      if (parent.children) parent.children.push(child)\n      else parent.children = [child]\n\n      this.nodes.push(child)\n      this.links.push({ source: parent, target: child })\n\n      this.update(parent)\n\n      console.info('Successfully added')\n    },\n    deleteNodeData() {\n      this.dialog = false\n      if (this.currentNode.parent && this.currentNode.parent.children.length > 0) {\n        this.currentNode.parent.children.filter((item, i) => {\n          if (this.currentNode && item.data && item.data.value === this.currentNode.data.value) {\n            this.currentNode.parent.children.splice(i, 1)\n            if (this.currentNode.parent.children.length === 0) {\n              delete this.currentNode.parent.children\n            }\n            this.update(this.currentNode)\n            this.initDrawer()\n          }\n        })\n      }\n    },\n    deleteNode() {\n      if (!this.currentNode) {\n        console.warn('Please select the node to delete')\n        return false\n      }\n      if (this.currentNode.data.value === this.rootNodeId) {\n        console.warn('The root node cannot be deleted')\n        return false\n      }\n      this.dialog = true\n    },\n    editNode() {\n      if (!this.currentNode) {\n        console.warn('Please select the node to edit')\n        return false\n      }\n\n      this.currentNode.data.name = this.newNodeName\n      let parent = this.currentNode.parent\n      this.update(parent)\n    },\n    async handleDrop(evt) {\n      evt.preventDefault()\n      if (evt.dataTransfer.files && evt.dataTransfer.files.length) {\n        let file = evt.dataTransfer.files[0]\n        console.log('file: ', file) // eslint-disable-line\n      }\n    },\n    goBack() {\n      if (this.$route.params.data) {\n        if (this.$route.params.data.searchType === 'keyword') {\n          this.$router\n            .push({\n              name: 'Search',\n              params: { data: this.$route.params.data }\n            })\n            .catch((err) => {}) // eslint-disable-line\n        } else if (this.$route.params.data.searchType === 'title') {\n          this.$router\n            .push({\n              name: 'ArticleDetail',\n              params: { data: this.$route.params.data }\n            })\n            .catch((err) => {}) // eslint-disable-line\n        }\n      } else {\n        this.$router.push({ name: 'ArticleDetail' }).catch((err) => {}) // eslint-disable-line\n      }\n    },\n    getRoot(treeData) {\n      let root = d3.hierarchy(treeData, (d) => {\n        return d.children\n      })\n      root.x0 = this.height / 2\n      root.y0 = 0\n      return root\n    },\n    dblclickNode(d) {\n      // Double click the node, and expand the node if there are child nodes\n      if (d.children) {\n        this.$set(d, '_children', d.children)\n        d.children = null\n      } else {\n        this.$set(d, 'children', d._children)\n        d._children = null\n      }\n      this.$nextTick(() => {\n        this.update(d)\n      })\n    },\n    clickNode(d) {\n      this.currentNode = d\n      this.nodeId = d.data.value\n      this.nodeName = d.data.name\n      if (d.children) {\n        this.$set(d, '_children', d.children)\n        d.children = null\n      } else {\n        this.$set(d, 'children', d._children)\n        d._children = null\n      }\n      this.$nextTick(() => {\n        this.update(d)\n      })\n    },\n    diagonal(s, d) {\n      return `M ${s.y} ${s.x}\n              C ${(s.y + d.y) / 2} ${s.x},\n              ${(s.y + d.y) / 2} ${d.x},\n              ${d.y} ${d.x}`\n    },\n    getNodesAndLinks() {\n      this.dTreeData = this.treemap(this.root)\n      this.nodes = this.dTreeData.descendants()\n      this.links = this.dTreeData.descendants().slice(1)\n    },\n\n    // Data binding with DOM\n    // 数据与Dom进行绑定\n    update(source) {\n      console.log('update')\n      this.getNodesAndLinks()\n      // this.nodes.forEach(d => {\n      //   d.y = d.depth * 18\n      // })\n      let node = this.container.selectAll('g.node').data(this.nodes, (d) => {\n        return d.id || (d.id = ++this.index)\n      })\n      // Enter any new sources at the parent's previous position.\n      let nodeEnter = node\n        .enter()\n        .append('g')\n        .attr('class', 'node')\n        // .on('dblclick', this.dblclickNode)\n        .attr('transform', (d) => {\n          return 'translate(' + source.y0 + ',' + source.x0 + ')'\n        })\n        .on('click', this.clickNode)\n\n      console.log('---: ', node.enter().selectAll('circle'))\n\n      // Add circle for the nodes\n      nodeEnter\n        .append('circle')\n        .attr('class', 'node')\n        .attr('r', 1e-6)\n        .style('fill', function (d) {\n          return d._children ? '#c9e4ff' : '#fff'\n        })\n        .append('title')\n        .text(function (d) {\n          // add title\n          return d.value\n        })\n        .on('click', function () {\n          let self = this\n          setTimeout(() => {\n            d3.select(self)\n              .transition()\n              .delay(1)\n              .style('fill', function () {\n                return '#54a8ff'\n              })\n              .style('stroke-width', function () {\n                return '3px'\n              })\n          }, 100)\n        })\n\n      nodeEnter\n        .append('text')\n        .attr('dy', '.35em')\n        .attr('x', function (d) {\n          return d.children || d._children ? -14 : 14\n        })\n        .attr('text-anchor', function (d) {\n          return d.children || d._children ? 'end' : 'start'\n        })\n        .text(function (d) {\n          return d.data.name.length > 20 ? d.data.name.substring(0, 20) + '...' : d.data.name\n        })\n        .attr('class', 'update')\n\n      // Transition nodes to their new position.\n      let nodeUpdate = nodeEnter\n        .merge(node)\n        .transition()\n        .duration(this.duration)\n        .attr('transform', function (d) {\n          return 'translate(' + d.y + ',' + d.x + ')'\n        })\n\n      // Update the node attributes and style\n      nodeUpdate\n        .select('circle.node')\n        .attr('r', 10)\n        .style('fill', function (d) {\n          return d._children ? 'lightsteelblue' : '#fff'\n        })\n        .style('stroke-width', function () {\n          return '2px'\n        })\n        .attr('cursor', 'pointer')\n\n      nodeUpdate.select('text').style('fill-opacity', 1)\n\n      console.log('node: ', node)\n\n      // update the text\n      node\n        .select('text')\n        .attr('dy', '.35em')\n        .attr('x', function (d) {\n          return d.children || d._children ? -14 : 14\n        })\n        .attr('text-anchor', function (d) {\n          return d.children || d._children ? 'end' : 'start'\n        })\n        .text(function (d) {\n          return d.data.name.length > 20 ? d.data.name.substring(0, 20) + '...' : d.data.name\n        })\n\n      // Transition exiting nodes to the parent's new position.\n      let nodeExit = node\n        .exit()\n        .transition()\n        .duration(this.duration)\n        .attr('transform', function (d) {\n          return 'translate(' + source.y + ',' + source.x + ')'\n        })\n        .remove()\n\n      nodeExit.select('circle').attr('r', 1e-6)\n\n      nodeExit.select('text').style('fill-opacity', 1e-6)\n\n      // *************************** Links section *************************** //\n      // Update the links…\n      let link = this.container.selectAll('path.link').data(this.links, (d) => {\n        return d.id\n      })\n\n      // Enter any new links at the parent's previous position.\n      let linkEnter = link\n        .enter()\n        .insert('path', 'g')\n        .attr('class', 'link')\n        .attr('d', (d) => {\n          let o = { x: source.x0, y: source.y0 }\n          return this.diagonal(o, o)\n        })\n        .attr('fill', 'none')\n        .attr('stroke-width', 1)\n        .attr('stroke', '#ccc')\n\n      // Transition links to their new position.\n      let linkUpdate = linkEnter.merge(link)\n      linkUpdate\n        .transition()\n        .duration(this.duration)\n        .attr('d', (d) => {\n          return this.diagonal(d, d.parent)\n        })\n\n      // Transition exiting nodes to the parent's new position.\n      link\n        .exit()\n        .transition()\n        .duration(this.duration)\n        .attr('d', (d) => {\n          let o = { x: source.x, y: source.y }\n          return this.diagonal(o, o)\n        })\n        .remove()\n      // Stash the old positions for transition.\n      this.nodes.forEach((d) => {\n        d.x0 = d.x\n        d.y0 = d.y\n      })\n    }\n  }\n}\n</script>\n<style>\n.d3-tree circle {\n  fill: #fff;\n  stroke: #54a8ff;\n  stroke-width: 2px;\n}\n\n.d3-tree .node text {\n  font: 12px sans-serif;\n}\n\n.d3-tree .link {\n  fill: none;\n  stroke: #ccc;\n  stroke-width: 2px;\n}\n</style>\n<style scoped>\n.card-container {\n  padding: 4px;\n  text-align: right;\n}\n\n.display-flex {\n  display: flex;\n}\n\n.width-100-percent {\n  width: 100%;\n  height: calc(100vh - 74px);\n}\n\n.drawer-container {\n  width: 480px;\n  position: fixed;\n  top: 130px !important;\n  right: 14px !important;\n  right: 0;\n  z-index: 99;\n  padding: 10px;\n}\n\n.margin-top-10 {\n  margin-top: 10px;\n}\n\n.text-height {\n  height: 48px;\n  margin-top: 20px;\n}\n\n.span-title {\n  font-weight: 600;\n  margin-right: 20px;\n}\n\n.span-id-margin {\n  margin-right: 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVIII.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVIII.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeVIII.vue?vue&type=template&id=18346945&scoped=true&\"\nimport script from \"./TreeVIII.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeVIII.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeVIII.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./TreeVIII.vue?vue&type=style&index=1&id=18346945&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18346945\",\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVIII.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeVIII.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}